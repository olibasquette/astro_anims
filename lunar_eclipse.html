<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Eclipse 2D Animation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #0b0b15;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: sans-serif;
            color: white;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            perspective: 1000px;
        }

        /* Stars Background */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(1px 1px at 10% 10%, white, transparent),
                radial-gradient(1px 1px at 20% 40%, white, transparent),
                radial-gradient(2px 2px at 40% 70%, white, transparent),
                radial-gradient(1px 1px at 60% 20%, white, transparent),
                radial-gradient(1.5px 1.5px at 80% 80%, white, transparent),
                radial-gradient(1px 1px at 90% 30%, white, transparent);
            background-size: 50% 50%;
            opacity: 0.5;
            z-index: -1;
        }

        /* The Sun */
        .sun {
            position: absolute;
            left: 20%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #ffd700, #ff8c00);
            border-radius: 50%;
            box-shadow: 0 0 60px #ff8c00, 0 0 100px #ff4500;
            z-index: 10;
        }

        /* The Earth System (Center) */
        .earth-system {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* The Earth */
        .earth {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #4da6ff, #0044cc);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(77, 166, 255, 0.4);
            z-index: 20;
        }

        /* The Earth's Shadow (Umbra) Visualization */
        /* This is a visual guide for the shadow cone */
        .shadow-cone {
            position: absolute;
            left: 50%; /* Starts at Earth center */
            top: 50%;
            transform: translateY(-50%);
            width: 300px; /* Length of shadow */
            height: 0;
            border-top: 40px solid transparent; /* matches earth radius somewhat */
            border-bottom: 40px solid transparent;
            border-left: 300px solid rgba(0, 0, 0, 0.3); /* The shadow */
            z-index: 5;
            filter: blur(5px);
            pointer-events: none;
        }

        /* The Orbit Path (Optional visual) */
        .orbit-path {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 1px dashed rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            z-index: 1;
        }

        /* The Moon Wrapper handles the rotation/orbit */
        .moon-wrapper {
            position: absolute;
            width: 300px;
            height: 300px;
            animation: orbit 12s linear infinite;
            z-index: 15;
        }

        /* The Moon itself */
        .moon {
            position: absolute;
            top: 50%;
            right: -15px; /* Offset from the wrapper edge to be on the orbit line */
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background-color: #dcdcdc;
            border-radius: 50%;
            box-shadow: inset -5px 0 5px rgba(0,0,0,0.5);
            /* Moon color animation happens here */
            animation: eclipse-color 12s linear infinite;
        }

        /* Animation Keyframes */
        
        /* Orbit rotation */
        @keyframes orbit {
            0% {
                transform: rotate(180deg); /* Start opposite to sun (in shadow) for demo? Or 0deg? */
                /* Let's start at 0deg. 0deg = Right side (In shadow). 
                   Wait, CSS rotation starts from right if we place the element at right?
                   In .moon-wrapper, we defined width/height.
                   .moon is at `right: -15px`.
                   So 0deg rotation means Moon is at the Right (3 o'clock).
                   Since Sun is at Left, Right is the Shadow side.
                   So at 0%, Moon is in Full Eclipse.
                */
            }
            100% {
                transform: rotate(540deg);
            }
        }

        /* Eclipse Color Change 
           Moon is at 0deg (Right/Shadow) at start.
           It effectively goes 0 -> 360.
           Shadow is at ~0deg (Right).
           Sun is at ~180deg (Left).
           
           We want the eclipse to happen when it is near 0deg/360deg.
           
           Let's adjust start so animation looks like a cycle.
           Start at 180deg (Left/Sun side = New Moon node) -> 360deg (Right/Shadow) -> 540deg.
        */
        
        /* Redefine orbit to start from near the sun */
        @keyframes orbit {
            0% { transform: rotate(180deg); } /* Left (Near Sun) */
            100% { transform: rotate(540deg); } /* Full circle back to Left */
        }

        @keyframes eclipse-color {
            0% { 
                background-color: #222; /* New Moon (Dark face towards us? No, we are top-down view). 
                If top-down 2D:
                Near Sun (Left): Lit side is facing Sun. We see "Half" if viewing from side?
                Usually 2D diagrams simulate the "phase" or just the position.
                Let's stick to the Eclipse effect (Reddening).
                
                Normal Moon Color: #dcdcdc (light grey).
                */
                background-color: #dcdcdc;
                box-shadow: inset 5px 0 5px rgba(0,0,0,0.5); /* Shadow on right side away from sun */
            }
            40% {
                background-color: #dcdcdc; /* Still normal */
                box-shadow: inset 5px 0 5px rgba(0,0,0,0.5);
            }
            45% {
                /* Entering Penumbra */
                background-color: #aaa;
            }
            48% {
                /* Entering Umbra - Red Blood Moon */
                background-color: #8b0000;
                box-shadow: inset 0 0 10px #3d0000;
            }
            52% {
                /* Exiting Umbra */
                background-color: #8b0000;
                box-shadow: inset 0 0 10px #3d0000;
            }
            55% {
                background-color: #aaa;
            }
            60% {
                background-color: #dcdcdc;
                box-shadow: inset 5px 0 5px rgba(0,0,0,0.5);
            }
            100% {
                background-color: #dcdcdc;
                box-shadow: inset 5px 0 5px rgba(0,0,0,0.5);
            }
        }

        .label {
            position: absolute;
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        .title {
            position: absolute;
            top: 20px;
            font-size: 24px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="title">Lunar Eclipse</div>

    <div class="container">
        <!-- Sun -->
        <div class="sun"></div>

        <!-- Earth System -->
        <div class="earth-system">
            <!-- Shadow Visual -->
            <div class="shadow-cone"></div>
            
            <!-- Earth -->
            <div class="earth">
            </div>

            <!-- Orbit Path -->
            <div class="orbit-path"></div>
            
            <!-- Moon Orbit Wrapper -->
            <div class="moon-wrapper">
                <div class="moon">
                    <!-- <div class="label" style="bottom: -20px;">Moon</div> -->
                </div>
            </div>
        </div>
    </div>
</body>
</html>
