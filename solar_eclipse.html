<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Eclipse 2D Animation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #0b0b15;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: sans-serif;
            color: white;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            perspective: 1000px;
        }

        /* Stars Background */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(1px 1px at 15% 15%, white, transparent),
                radial-gradient(1px 1px at 25% 45%, white, transparent),
                radial-gradient(2px 2px at 45% 75%, white, transparent),
                radial-gradient(1px 1px at 65% 25%, white, transparent),
                radial-gradient(1.5px 1.5px at 85% 85%, white, transparent),
                radial-gradient(1px 1px at 95% 35%, white, transparent);
            background-size: 50% 50%;
            opacity: 0.5;
            z-index: -1;
        }

        /* The Sun */
        .sun {
            position: absolute;
            left: 20%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #ffd700, #ff8c00);
            border-radius: 50%;
            box-shadow: 0 0 60px #ff8c00, 0 0 100px #ff4500;
            z-index: 10;
        }

        /* The Earth System (Center) */
        .earth-system {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* The Earth */
        .earth {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at 30% 30%, #4da6ff, #0044cc);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(77, 166, 255, 0.4);
            z-index: 10; /* Lower z-index so moon shadow can go over it */
        }

        /* The Orbit Path */
        .orbit-path {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 1px dashed rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            z-index: 5;
        }

        /* The Moon Wrapper handles the rotation/orbit */
        .moon-wrapper {
            position: absolute;
            width: 300px; /* Diameter of orbit */
            height: 300px;
            /* Start from Right (0deg). 
               Sun is at Left. 
               Solar Eclipse passes Left (180deg). 
               So let's orbit 0 -> 360. 
               Eclipse happens at 50% mark. */
            animation: orbit 12s linear infinite;
            z-index: 20; /* Above Earth */
            pointer-events: none;
        }

        /* The Moon itself */
        .moon {
            position: absolute;
            top: 50%;
            right: -15px; /* On the ring */
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background-color: #dcdcdc;
            border-radius: 50%;
            box-shadow: inset -5px 0 5px rgba(0,0,0,0.5);
            display: flex; /* To align shadow */
            justify-content: center;
            align-items: center;
        }

        /* Moon's Shadow Cone (Umbra) */
        .moon-shadow {
            position: absolute;
            top: 50%;
            left: 50%; /* Center of moon */
            transform-origin: left center; /* Rotate around moon center */
            width: 0;
            height: 0;
            
            /* Visualizing the cone */
            /* It points "Right" initially if we define border-left */
            border-top: 15px solid transparent; /* Half moon size */
            border-bottom: 15px solid transparent;
            border-left: 200px solid rgba(0, 0, 0, 0.6); /* Length to reach Earth */
            
            /* Logic:
               Wrapper Rotates Clockwise (0 -> 360).
               Moon is fixed inside Wrapper (at Right).
               As Wrapper rotates 180deg (Moon is Left), Shadow must point Right (towards Earth).
               If we don't counter-rotate, the shadow rotates with the moon and points "Outwards" or "Inwards" depending on orientation.
               At 0deg (Right), Moon is away from Sun. Shadow should point Right (Away from Sun).
               At 180deg (Left), Moon is near Sun. Shadow should point Right (Towards Earth and Away from Sun).
               So Shadow ALWAYS points Right.
               
               We need to counter-rotate the shadow so its Global Rotation is always 0deg.
            */
            animation: counter-rotate 12s linear infinite;
            z-index: -1; /* Behind moon, but needs to cover Earth? 
               If z-index is -1 relative to Moon, it is behind Moon.
               Moon is z-index 20. Earth is z-index 10.
               So Shadow (child of Moon) is in Moon's stacking context?
               Actually, `z-index` on child is relative to parent if parent has z-index != auto.
               Moon has no z-index set? wrapper has z-index 20.
               So Moon and Shadow are above Earth (z-index 10).
               So Shadow covers Earth. Correct.
            */
            filter: blur(2px);
        }

        @keyframes orbit {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes counter-rotate {
            /* 
             At 0deg orbit (Moon at Right), Shadow points Right (away from Sun).
             Wait. Moon is defined at `right: -15px` of wrapper.
             Wrapper `rotate(0deg)` -> Moon is at Right (3 o'clock).
             Shadow `rotate(0deg)` (default) points Right (due to border-left).
             Orbit rotates Clockwise.
             Shadow must stay pointing Right.
             So Shadow needs to rotate Counter-Clockwise.
            */
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(-360deg); }
        }

        .title {
            position: absolute;
            top: 20px;
            font-size: 24px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .label {
            position: absolute;
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        /* Small visual tweak: Sun Glare on collision? Optional. */
        
    </style>
</head>
<body>
    <div class="stars"></div>
    <div class="title">Solar Eclipse</div>

    <div class="container">
        <!-- Sun -->
        <div class="sun"></div>

        <!-- System -->
        <div class="earth-system">
            
            <!-- Earth -->
            <div class="earth">
                <!-- <div class="label">Earth</div> -->
            </div>

            <!-- Orbit Path -->
            <div class="orbit-path"></div>
            
            <!-- Moon Orbit Wrapper -->
            <div class="moon-wrapper">
                <div class="moon">
                    <div class="moon-shadow"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
